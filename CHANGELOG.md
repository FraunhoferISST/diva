# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

### [v2.2.0](https://github.com/FraunhoferISST/diva/compare/v2.1.0...v2.2.0)

> 20 August 2021

#### Merged

- Dev into Main [`#14`](https://github.com/FraunhoferISST/diva/pull/14)
- chore(kong): add possibility to switch between declarative configs [`#12`](https://github.com/FraunhoferISST/diva/pull/12)
- General crud tests [`#11`](https://github.com/FraunhoferISST/diva/pull/11)
- 8 integrate keycloak as login register service [`#9`](https://github.com/FraunhoferISST/diva/pull/9)
- 5 migrate airflow to GitHub registry [`#6`](https://github.com/FraunhoferISST/diva/pull/6)
- Integrate lerna [`#3`](https://github.com/FraunhoferISST/diva/pull/3)
- Fix git lfs jar tracking [`#4`](https://github.com/FraunhoferISST/diva/pull/4)

#### Commits (109)

##### âœ… New Features

- feat(UM): smooth the authentication round trips [`e78e44d`](https://github.com/FraunhoferISST/diva/commit/e78e44dbfe1fe499b3b6a652d467988da4dd96a2)
- feat: override keycloak base theme to control users data management [`b9eb43a`](https://github.com/FraunhoferISST/diva/commit/b9eb43ae605c54afc56e4b89ffdfc19db3126b93)
- feat(common): add messaging utilities [`b1be2d2`](https://github.com/FraunhoferISST/diva/commit/b1be2d221675bd7851e28e915f004ee94b91cb8d)
- feat(client): add new login page [`ff0e952`](https://github.com/FraunhoferISST/diva/commit/ff0e9521504fe20be23493eda8adae737d4b3c97)
- feat(client): integrate keycloak authentication [`e9fb056`](https://github.com/FraunhoferISST/diva/commit/e9fb056d1a16e99e8617bf8ab939893488ab0a06)
- feat(SA): return total count in search response [`4969c82`](https://github.com/FraunhoferISST/diva/commit/4969c821ff0de5fcc7b542aeacfcb46c4a66e73e)
- feat(client): add reference to keycloak user profile on user edit page [`559f9f1`](https://github.com/FraunhoferISST/diva/commit/559f9f1f3b6905c9323b1b01bcd3c6c4ddc4c19d)
- feat(UM): add PUT route [`a63228d`](https://github.com/FraunhoferISST/diva/commit/a63228df16cbff8eee296f72ec76d2efae5ae418)
- feat(common): add updateById method [`d318bbd`](https://github.com/FraunhoferISST/diva/commit/d318bbdff6fe2aa412897b8270a05e6a7702a46e)
- feat(client): provide error message on initial authentication error [`5dfd9a2`](https://github.com/FraunhoferISST/diva/commit/5dfd9a2ad59e8af30324c9cecabce68229d844ef)
- feat(web-client): set current search term as query param [`16f4405`](https://github.com/FraunhoferISST/diva/commit/16f440591419b144a9d30a02ec2e92fcce324c99)
- feat(client): refresh keycloak token after expiration [`bed0403`](https://github.com/FraunhoferISST/diva/commit/bed040381d13bd4a4e5a6e34b89f42878068e88e)

##### ðŸš§ Fixes

- fix(profiling): use image from GitHub registry [`25b1624`](https://github.com/FraunhoferISST/diva/commit/25b1624bc50f9213827f631373799126d8804389)
- fix(AM): adjust OpenAPI spec [`9acf94f`](https://github.com/FraunhoferISST/diva/commit/9acf94f04a9a4725bc5f984467a7bf909b40f49f)
- fix(UM): GridFS connection [`da4568d`](https://github.com/FraunhoferISST/diva/commit/da4568d0d62247a027a839fb4dae1fe21ac15f0e)
- fix(REM): allow reserved values for fields query parameter [`60488b3`](https://github.com/FraunhoferISST/diva/commit/60488b3628e598d2a8ca4d102d363da7567a74a6)
- fix(EE): messages validation [`ba69f57`](https://github.com/FraunhoferISST/diva/commit/ba69f57f7cd1e854b39fd740077b68a1a6d3265a)
- fix(EM): improve login page responsiveness [`231a172`](https://github.com/FraunhoferISST/diva/commit/231a1725dd576dca63ebdb8f0d62daf31b44ca9d)
- fix(REM): correctly produce messages on PATCH [`e296d8c`](https://github.com/FraunhoferISST/diva/commit/e296d8c7e282ca14663cc2fa500e34175b3d157c)
- fix(REM): correctly pass message data to MessageProducer [`61b4ca2`](https://github.com/FraunhoferISST/diva/commit/61b4ca2bc41e997ae6691705c46ded9d5ec4c399)
- fix(client): change keycloak options name to be more specific [`a82f95d`](https://github.com/FraunhoferISST/diva/commit/a82f95d28abeeddb9da011807bdd94b373776b11)
- fix(web-client): fix cut off keywords in search cards [`d9dc76a`](https://github.com/FraunhoferISST/diva/commit/d9dc76a55ba23b34c93ff4057335dfe1d62e2f7e)
- fix(kong): correctly set Keycloak iss [`1fd135e`](https://github.com/FraunhoferISST/diva/commit/1fd135e1b917fa93958c69d9f47c1e922fc70ce4)
- fix(kong): set correctly Keycloak iss in kong production config [`2e9a430`](https://github.com/FraunhoferISST/diva/commit/2e9a430f1d613c7381bab070366c1cd77b0c1008)
- fix(EC): workaround loosed this context on entity update [`ec91728`](https://github.com/FraunhoferISST/diva/commit/ec9172853661718093621790489c8fd8bc7dc00f)
- fix(DLA): properly handle RM errors [`3b20f0a`](https://github.com/FraunhoferISST/diva/commit/3b20f0aa0b522a67e68b3a508aa5bc9b31a72663)
- fix(REM): correctly initialize schema validator [`4afc10c`](https://github.com/FraunhoferISST/diva/commit/4afc10c460b2fc9b6ae6b5422cd6d2ef60351fdc)
- fix(EM): accept kafka topics through env [`e2ede9b`](https://github.com/FraunhoferISST/diva/commit/e2ede9b6f72087e25b425f590b50b2d66dd7d811)
- fix(common): extend MessageProducer to include attributedTo in payload [`0679dbf`](https://github.com/FraunhoferISST/diva/commit/0679dbffd826cf915f9e6a456f7b17159d74201e)
- fix[common]: throw error on entity update if unique field violated [`a655379`](https://github.com/FraunhoferISST/diva/commit/a655379e2915e44d2f311fcd6f14e65b17db242a)
- fix(EM): default kafka topics list [`6e8f90f`](https://github.com/FraunhoferISST/diva/commit/6e8f90feaa80e7605135b0b67c97226a4d2cf68b)
- fix(web-client): reset cursor on search submit [`a220a88`](https://github.com/FraunhoferISST/diva/commit/a220a882022fbf2f123c91467bbf8b6fd120a745)
- fix(REM): correctly create message on DELETE [`3f5a1b8`](https://github.com/FraunhoferISST/diva/commit/3f5a1b86d50ee6cf8c4d4de30feecbaa273e9840)
- fix(AM): correctly call delete method [`1322933`](https://github.com/FraunhoferISST/diva/commit/1322933bd5164152036d41b0002bfa3da2f6e6b9)
- fix(AM): remove wrong Mongo index creation [`e0602d3`](https://github.com/FraunhoferISST/diva/commit/e0602d32ef0a69cb68a7ef8b26b1dda54bb9650e)
- fix(AM): correctly produce history entries on entity link/unlink [`1238d7b`](https://github.com/FraunhoferISST/diva/commit/1238d7b7f37b486090537742d55834d966b462ca)
- fix(client): set correctly initially search term from query param [`274d22d`](https://github.com/FraunhoferISST/diva/commit/274d22d624c82153bffbb96993be28a95d726722)
- fix(web-client): replace UP logo [`9380aa7`](https://github.com/FraunhoferISST/diva/commit/9380aa7b1cf89069853599c0d98b589614cade17)
- fix(faas): table-data-to-csv setup.py [`6975038`](https://github.com/FraunhoferISST/diva/commit/697503817c74f822ff4a3708a8ef3c30350a7654)
- fix(common): trim splited projection param [`0df5124`](https://github.com/FraunhoferISST/diva/commit/0df51240d9d79c308638b54e3b20f3b448cc5983)
- fix(client): correctly pass projection params on asset fetch [`11bc320`](https://github.com/FraunhoferISST/diva/commit/11bc320c290a0fae15e97fdef1062b0edc1f826a)
- fix(docker): keycloak frontend adress to docker ip [`e2ac7d6`](https://github.com/FraunhoferISST/diva/commit/e2ac7d6ecefcd6cf28ceca84c081a68fbff342a9)
- fix(RM): pass message produce correctly [`df91cb4`](https://github.com/FraunhoferISST/diva/commit/df91cb474b638747b79ad8e95370fd64bce78f7b)
- fix(REM): pass query object to getById method [`b2a8f5b`](https://github.com/FraunhoferISST/diva/commit/b2a8f5b48cd844bbca2730a9a4251a39ab17a535)

##### ðŸ“œ Misc

- chore: add default keycloak docker config [`e3d63fb`](https://github.com/FraunhoferISST/diva/commit/e3d63fbdb9547ed15027c8de6b7394475fef59c3)
- test(UM): add basic CRUD tests [`190f1a7`](https://github.com/FraunhoferISST/diva/commit/190f1a7bbe3a18aa276a5d0e11c38789f2c0f0d1)
- ci: add actions for further services [`dae1eeb`](https://github.com/FraunhoferISST/diva/commit/dae1eebf9f6be08c41f49b04df9587ad26efee8f)
- test(REM): add basic CRUD tests [`0a7380a`](https://github.com/FraunhoferISST/diva/commit/0a7380a9f678232eb4c99495ce4ba33ccf1b34a6)
- chore(ci): add adapter services actions [`08207d0`](https://github.com/FraunhoferISST/diva/commit/08207d0b635ada63de98e5db91f38d06533c028a)
- ci: improve actions [`9bc1ea0`](https://github.com/FraunhoferISST/diva/commit/9bc1ea0cde697b8841f4d624950f8e886e354b99)
- chore: add license [`a664f10`](https://github.com/FraunhoferISST/diva/commit/a664f1017a600d4eb2e0a22a115de5ec1f760f10)
- test(RM): add basic CRUD tests [`94d1225`](https://github.com/FraunhoferISST/diva/commit/94d122510e3dda5ddf603647180367c1521790d9)
- chore(ci): build updated services actions [`6d9308e`](https://github.com/FraunhoferISST/diva/commit/6d9308e9de0b230f11ae8e89bbb6eb20e58f6d16)
- chore: configure lerna [`6df905d`](https://github.com/FraunhoferISST/diva/commit/6df905de72dbb9574ccf53e2aec901186efeb298)
- test(AM): add basic CRUD tests [`0ec6bd7`](https://github.com/FraunhoferISST/diva/commit/0ec6bd78ae54f373411c90b24a806cc1fd695abc)
- chore(ci): update actions [`f636dd9`](https://github.com/FraunhoferISST/diva/commit/f636dd9a88471a037c6601348cea1cfe2c2f25c4)
- chore: use common Dockerfile tu build core services [`0de6f94`](https://github.com/FraunhoferISST/diva/commit/0de6f9474159e3fdf4939fd1600ce3186b51886c)
- chore: increment services patch versions [`5a8fbbe`](https://github.com/FraunhoferISST/diva/commit/5a8fbbe3e4a7d1eb8280fb7c7eeb5f5f600c58a8)
- ci: update actions to not build images on PR [`b92ca6b`](https://github.com/FraunhoferISST/diva/commit/b92ca6bbc67ba6356b4b46ef55214387d85a0e89)
- chore(ci): correctly add service path env to actions [`400cef9`](https://github.com/FraunhoferISST/diva/commit/400cef981637cc32fb7c2e7f0b466f4bd36056a4)
- chore: configure UM binary packaging trough docker image build [`b137a99`](https://github.com/FraunhoferISST/diva/commit/b137a99284cd4e3297b0914eb3cc8014786b84bf)
- test: refactor test to handle multiple uniqueness fields [`7633d3a`](https://github.com/FraunhoferISST/diva/commit/7633d3a30239be033e5fe15be2826f77aa7959ce)
- ci: add airflow action [`49d2807`](https://github.com/FraunhoferISST/diva/commit/49d2807fddd29128fc648cdbf4a98190d6d3d9a3)
- test: push required .env.test files [`621b05f`](https://github.com/FraunhoferISST/diva/commit/621b05f558f7e844ca9d4529fb8299ae527f1382)
- test(common): improve patch uniqueness tests [`68a1688`](https://github.com/FraunhoferISST/diva/commit/68a1688331d2ac82be9ca82e464a093d4c510f9e)
- chore: adjust docker .env [`3ca3d06`](https://github.com/FraunhoferISST/diva/commit/3ca3d068029a3923657bfa50e581711d7bb70ab3)
- ci: fix docker context in actions [`547c875`](https://github.com/FraunhoferISST/diva/commit/547c87533324e2b256988fead5f4e3fe75299da6)
- chore: add issue templates [`6ee3358`](https://github.com/FraunhoferISST/diva/commit/6ee3358086a893974b5b42a78d865649d48f8e09)
- chore(docker): use keycloak with postgres [`23c147d`](https://github.com/FraunhoferISST/diva/commit/23c147da8344912dd8d878342ff2018e661993e6)
- chore(SR): fix docker volumes mounting [`010c87b`](https://github.com/FraunhoferISST/diva/commit/010c87bf9719fbf6f0651d4accfc15fb4d8168a9)
- chore: add PR template [`a25a888`](https://github.com/FraunhoferISST/diva/commit/a25a88877528fdb3d1b51070d3effef6ea883eaf)
- test(common): skip uniqueness test if no uniqueness conditions [`a6e552e`](https://github.com/FraunhoferISST/diva/commit/a6e552e042c8c0e09084fa5b8f2e786a6ce16b9c)
- chore(ci): update actions docker context [`e848ee9`](https://github.com/FraunhoferISST/diva/commit/e848ee9fecd87c096ba3c23ae35ec4be805ce352)
- chore(UM): include apiDoc in binary build [`a758033`](https://github.com/FraunhoferISST/diva/commit/a7580336a1676dc051f428fdbc86adc2b3a8fa8f)
- docs: update README [`0ffb652`](https://github.com/FraunhoferISST/diva/commit/0ffb652f619b22d239b60536e0e1054e1bd451d4)
- docs(UM): update readme [`ddc6670`](https://github.com/FraunhoferISST/diva/commit/ddc6670341e189755a019f641036b44176915180)
- chore: adjust test script parameters [`8bbd6d8`](https://github.com/FraunhoferISST/diva/commit/8bbd6d811d1f9bf5f3cbfcb22eeaed9894fe9645)
- chore: fix airflow container dags volumes mounting [`2f7f230`](https://github.com/FraunhoferISST/diva/commit/2f7f23045ca3c10f1f718b49f8261733bb3c5b87)
- chore(faas): adjust Dockerfile's [`428fb4f`](https://github.com/FraunhoferISST/diva/commit/428fb4fc21ed65287de820a9db39b957aa2999a7)
- chore: fix exposed ports in Dockerfile's [`d37ebae`](https://github.com/FraunhoferISST/diva/commit/d37ebaea1ee8ad9101def993b97290fd07eb2996)
- chore: update issue template [`7ccff55`](https://github.com/FraunhoferISST/diva/commit/7ccff55c31ee63f95ac75454000176f364cdac7d)
- chore: corrections in PR template [`46d6b4a`](https://github.com/FraunhoferISST/diva/commit/46d6b4a32ef304ca5dff3d0303df0913b50cbcac)
- chore(ci): add prefix to custom envs [`ec9cda0`](https://github.com/FraunhoferISST/diva/commit/ec9cda0c0f701bf8caa5763c6ae543646894902a)
- chore: add contributing [`89d31ef`](https://github.com/FraunhoferISST/diva/commit/89d31ef373d91c18973fac553fffef03378baa1f)
- chore(docker): add client keycloak ENV's [`eaf9b32`](https://github.com/FraunhoferISST/diva/commit/eaf9b32df0f01b80cb4c7a26283cebfa49ce9738)
- chore(client): remove unused docker build args [`03b951b`](https://github.com/FraunhoferISST/diva/commit/03b951bf5c6cb2b2ab8eb0b2af6bbbcfc0523f4f)
- ci: fix web-client path in action [`4b83c28`](https://github.com/FraunhoferISST/diva/commit/4b83c28a8a83cfa878d4f899a6293ab68b1e71e2)
- doc: updated README [`3af1501`](https://github.com/FraunhoferISST/diva/commit/3af1501835561fbe762090b8e9f6c99ab4f7e9fc)
- chore(ci): set branch to push changelog in release action [`3781da9`](https://github.com/FraunhoferISST/diva/commit/3781da97321a4098728d1598d1aeed82f815bd21)
- chore(docker): added keycloak to stop script [`82a3dff`](https://github.com/FraunhoferISST/diva/commit/82a3dff3debb95379061388f822007b1944654ef)
- chore(UM): fix start script env [`d4d49c2`](https://github.com/FraunhoferISST/diva/commit/d4d49c22e87f9ffb1fd92be4aef75f7cc5d43a2c)
- chore(faas): adjust personal-data Dockerfile [`f4825d1`](https://github.com/FraunhoferISST/diva/commit/f4825d140d7b22f1717d9ee2987d151a0e4bbc55)
- chore(SR): clean up Dockerfile [`2aa227b`](https://github.com/FraunhoferISST/diva/commit/2aa227bc9d4594f99a8d5979a7d3a5c9e1e3edc5)
- chore: remove misleading comment from .env.default [`922fbde`](https://github.com/FraunhoferISST/diva/commit/922fbdedd0507acd65353bcf86aa1f47988919e7)

---

### v2.1.0

> 19 July 2021

#### Merged

- Configure images build workflow [`#2`](https://github.com/FraunhoferISST/diva/pull/2)

#### Commits (7)

##### ðŸ“œ Misc

- chore: add source code and configs [`8f42c51`](https://github.com/FraunhoferISST/diva/commit/8f42c51024dc91d318ee991ff379fde521be498c)
- chore: migrate more source code [`a4f2f66`](https://github.com/FraunhoferISST/diva/commit/a4f2f66d4a42baa034d3a325caf60bc868b80d3f)
- chore: init project [`206355f`](https://github.com/FraunhoferISST/diva/commit/206355f085cab70383478587f93a60227ac8e379)
- chore: setup blank action [`5a5bebd`](https://github.com/FraunhoferISST/diva/commit/5a5bebdedb986aa0e7596dbd1ea2d083e24fde59)
- docs: update main readme [`5c760c7`](https://github.com/FraunhoferISST/diva/commit/5c760c77f6e77e7cb0e9e06bea24510b0e0b723b)
- chore: remove faas [`97f3829`](https://github.com/FraunhoferISST/diva/commit/97f3829f4b76b724210942e7c1573319233dcef6)
- docs: adjust docker README.md [`3302e97`](https://github.com/FraunhoferISST/diva/commit/3302e9771b18b38c9051ba406c3b92ea9c5390b6)

---
