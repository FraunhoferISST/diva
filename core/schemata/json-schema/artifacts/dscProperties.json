{
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "$id": "dscProperties",
    "type": "object",
    "title": "Industrial Data Space",
    "properties": {
        "dsc": {
            "$id": "/dscProperties/properties/dsc",
            "type": ["object", "null"],
            "title": "DSC",
            "description": "DSC configuration attributes",
            "required": [
                "offer",
                "policy"
            ],
            "properties": {
                "additionalProperties": false,
                "offer": {
                    "$id": "/dscProperties/properties/dsc/properties/offer",
                    "type": [
                        "object"
                    ],
                    "title": "DSC offer",
                    "description": "Information about the resource offer on DSC",
                    "additionalProperties": false,
                    "required": [
                        "offerId",
                        "contractId",
                        "ruleId",
                        "representationId",
                        "artifactId"
                    ],
                    "properties": {
                        "offerId": {
                            "title": "Offer Id",
                            "description": "Unique identifier of the offer associated with a DIVA resource",
                            "type": "string",
                            "examples": ["11678716-9c28-4534-978b-401ec9527669"],
                            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$",
                            "_elasticsearch": {
                                "type": "keyword"
                            }
                        },
                        "ruleId": {
                            "title": "Rule Id",
                            "description": "Unique identifier of the rule (policy) created within an offer",
                            "type": "string",
                            "examples": ["11678716-9c28-4534-978b-401ec9527669"],
                            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$",
                            "_elasticsearch": {
                                "type": "keyword"
                            }
                        },
                        "representationId": {
                            "title": "Representation Id",
                            "description": "Unique identifier of the representation created within an offer",
                            "type": "string",
                            "examples": ["11678716-9c28-4534-978b-401ec9527669"],
                            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$",
                            "_elasticsearch": {
                                "type": "keyword"
                            }
                        },
                        "artifactId": {
                            "title": "Artifact Id",
                            "description": "Unique identifier of the artifact created within an offer",
                            "type": "string",
                            "examples": ["11678716-9c28-4534-978b-401ec9527669"],
                            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$",
                            "_elasticsearch": {
                                "type": "keyword"
                            }
                        },
                        "contractId": {
                            "title": "Contract Id",
                            "description": "Unique identifier of the contract created within an offer",
                            "type": "string",
                            "examples": ["11678716-9c28-4534-978b-401ec9527669"],
                            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$",
                            "_elasticsearch": {
                                "type": "keyword"
                            }
                        }
                    }
                },
                "policy": {
                    "$id": "/dscProperties/properties/dsc/properties/policy",
                    "type": [
                        "object",
                        "null"
                    ],
                    "title": "Policy",
                    "description": "DSC policy",
                    "unevaluatedProperties": false,
                    "oneOf": [
                        {
                            "properties": {
                                "provideAccess": {
                                    "type": "boolean",
                                    "default": false,
                                    "title": "Is available on connector flag",
                                    "description": "Flag indicating if the resource is available via a connector"
                                }
                            },
                            "required": [
                                "provideAccess"
                            ]
                        },
                        {
                            "properties": {
                                "usageLogging": {
                                    "type": "boolean",
                                    "default": false,
                                    "title": "Is usage logging active flag",
                                    "description": "Flag indicating if the usage logging of the resource is active on connector"
                                }
                            },
                            "required": [
                                "usageLogging"
                            ]
                        },
                        {
                            "properties": {
                                "nTimesUsage": {
                                    "type": "integer",
                                    "default": 0,
                                    "minimum": 0,
                                    "title": "nTimesUsage",
                                    "description": "nTimesUsage"
                                }
                            },
                            "required": [
                                "nTimesUsage"
                            ]
                        },
                        {
                            "properties": {
                                "durationUsage": {
                                    "type": "string",
                                    "default": "",
                                    "title": "xsd:duration usage duration",
                                    "description": "xsd:duration duration of time expressed as a number of years, months, days, hours, minutes, and seconds",
                                    "examples": [
                                        "P2Y6M5DT12H35M30S"
                                    ],
                                    "_elasticsearch": {
                                        "type": "keyword"
                                    }
                                }
                            },
                            "required": [
                                "durationUsage"
                            ]
                        },
                        {
                            "properties": {
                                "usageNotification": {
                                    "type": "string",
                                    "format": "uri",
                                    "default": "",
                                    "title": "Usage notification URI",
                                    "description": "Usage notification URI",
                                    "examples": [
                                        "https://de.wikipedia.org/wiki/Uniform_Resource_Identifier"
                                    ],
                                    "_elasticsearch": {
                                        "type": "keyword"
                                    }
                                }
                            },
                            "required": [
                                "usageNotification"
                            ]
                        },
                        {
                            "properties": {
                                "usageUntilDeletion": {
                                    "type": "object",
                                    "title": "Resource usage duration interval until deletion",
                                    "description": "Allowed usage duration interval on connector until deletion",
                                    "required": [
                                        "from",
                                        "to",
                                        "delete"
                                    ],
                                    "properties": {
                                        "from": {
                                            "type": "string",
                                            "format": "date-time",
                                            "examples": [
                                                "2011-10-05T14:48:00.000Z"
                                            ],
                                            "_elasticsearch": {
                                                "type": "date"
                                            }
                                        },
                                        "to": {
                                            "type": "string",
                                            "format": "date-time",
                                            "examples": [
                                                "2011-10-05T14:48:00.000Z"
                                            ],
                                            "_elasticsearch": {
                                                "type": "date"
                                            }
                                        },
                                        "delete": {
                                            "type": "string",
                                            "format": "date-time",
                                            "examples": [
                                                "2011-10-05T14:48:00.000Z"
                                            ],
                                            "_elasticsearch": {
                                                "type": "date"
                                            }
                                        }
                                    }
                                }
                            },
                            "required": [
                                "usageUntilDeletion"
                            ]
                        },
                        {
                            "properties": {
                                "usageDuringInterval": {
                                    "type": "object",
                                    "title": "Resource usage duration interval",
                                    "description": "Allowed usage duration interval on connector",
                                    "required": [
                                        "from",
                                        "to"
                                    ],
                                    "properties": {
                                        "from": {
                                            "type": "string",
                                            "format": "date-time",
                                            "examples": [
                                                "2011-10-05T14:48:00.000Z"
                                            ],
                                            "_elasticsearch": {
                                                "type": "date"
                                            }
                                        },
                                        "to": {
                                            "type": "string",
                                            "format": "date-time",
                                            "examples": [
                                                "2011-10-05T14:48:00.000Z"
                                            ],
                                            "_elasticsearch": {
                                                "type": "date"
                                            }
                                        }
                                    }
                                }
                            },
                            "required": [
                                "usageDuringInterval"
                            ]
                        },
                        {
                            "properties": {
                                "connectorRestrictedUsage": {
                                    "type": "string",
                                    "format": "uri",
                                    "title": "Connector Restricted Usage",
                                    "description": "The Connector that is allowed to use the resource",
                                    "examples": [
                                        "https://w3id.org/idsa/autogen/baseConnector/7b934432-a85e-41c5-9f65-669219dde4ae"
                                    ],
                                    "_elasticsearch": {
                                        "type": "keyword"
                                    }
                                }
                            },
                            "required": [
                                "connectorRestrictedUsage"
                            ]
                        }
                    ]
                },
                "brokerEndpoints": {
                    "$id": "/idsProperties/properties/brokerEndpoints",
                    "type": "array",
                    "title": "Broker URLs",
                    "description": "Broker URLs",
                    "examples": [
                        [
                            "https://broker1.ids/",
                            "https://company-dsc:4044/broker/"
                        ]
                    ],
                    "items": {
                        "type": "string",
                        "format": "uri",
                        "_elasticsearch": {
                            "type": "keyword"
                        }
                    }
                }
            }
        }
    }
}